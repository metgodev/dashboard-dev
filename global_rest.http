
@hostname = metro-backend-ohx3vk2ipa-ew.a.run.app           
# metro-backend-ohx3vk2ipa-ew.a.run.app
@contentType = application/json
@authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6ImFjY2VzcyJ9.eyJvYXQiOjE2NDQyMTk5MTYsImlhdCI6MTY0NDIxOTkxNSwiZXhwIjoxNjQ0ODI0NzE1LCJhdWQiOiJodHRwczovL3lvdXJkb21haW4uY29tIiwiaXNzIjoiZmVhdGhlcnMiLCJzdWIiOiI2MWU5ODMxMzQyZTg0NmM5ODZmMDNjNmUiLCJqdGkiOiIwYWUzYWZiYy0zMjBlLTQ3MTItOGVlNi1kMjUwYmY1NWE4MzMifQ.OVO6u8QLoIJGIiVGZctN0KDW-70ECGxKwS7Dj0s7BbA
@email = "celeja6810@showbaz.com"
@password = "5656"
@postmanlink  = https://www.getpostman.com/collections/011abae26ecba7e10682

# register
POST https://{{hostname}}/users
content-type: {{contentType}}

{
"email": {{email}},
"password": {{password}},
"firstName": "firstName",
"lastName": "lastName"
}
###
# login
POST https://{{hostname}}/authentication 
content-type: {{contentType}}

{
"email": {{email}},
"password": {{password}},
"strategy": "local"
}
###
# 2ways verification
POST https://{{hostname}}/authmanagement
content-type: {{contentType}}
Authorization: {{authorization}}

{
"action": "verifySignupShort",
"value": {"user":{"email": {{email}}}, "token": "410565"}
}
###
# 2ways verification resend
POST https://{{hostname}}/authmanagement
content-type: {{contentType}}
Authorization: {{authorization}}

{
    "action": "resendVerifySignup",
    "value": {"email": {{email}}}
}
###
# Reset Password
POST https://{{hostname}}/authmanagement
content-type: {{contentType}}
Authorization: {{authorization}}

{
   "action": "sendResetPwd",   
   "value": { "email": {{email}}}
}
###
# Create role
POST https://{{hostname}}/roles
content-type: {{contentType}}
Authorization: {{authorization}}

{    
    "name": "METRO_AREA_OWNER",    
    "displayName": "Area Owner",    
    "description": "Owner of the area"
}
###
# Get all areas
GET https://{{hostname}}/area
content-type: {{contentType}}
Authorization: {{authorization}}

###
# Create new area
POST https://{{hostname}}/area
content-type: {{contentType}}
Authorization: {{authorization}}

{    
    "name": "Ashkelon"    
}
###
# Get one area
GET https://{{hostname}}/area/61d2e959927d2b5be84b2ce1
content-type: {{contentType}}
Authorization: {{authorization}}
###
# Get all area - paginate
GET https://{{hostname}}/area?$limit=100&$skip=0
content-type: {{contentType}}
Authorization: {{authorization}}
###
# Get all autorities
GET https://{{hostname}}/authorities?areaId=61d2e93c927d2b5be84b2cdb
content-type: {{contentType}}
Authorization: {{authorization}}
###
# Create new Authority
POST https://{{hostname}}/authorities
content-type: {{contentType}}
Authorization: {{authorization}}

{  
    "areaId": "61d2e93c927d2b5be84b2cdb",  
    "name": "שומרון", 
    "email": "contact@email.com", 
    "address": ""
}
###
# Upload file 
GET https://{{hostname}}/
content-type: {{contentType}}
Authorization: {{authorization}}
###
# categories tags 
GET https://{{hostname}}/categories
content-type: {{contentType}}
Authorization: {{authorization}}
###
# Get all businesses in specific autority
GET https://{{hostname}}/business?autorityId=61d2eb2df58fa2f89374dbb7
content-type: {{contentType}}
Authorization: {{authorization}}
###
# Create new business
POST  https://{{hostname}}/business
content-type: {{contentType}}
Authorization: {{authorization}}

{
   "name":"עין חרא",
   "description":"בואו לטייל בעין חרא עוד היום",
   "status":"PENDING_APPROVAL",
   "tagsIds":["food"],
   "autorityId":"61d2eb2df58fa2f89374dbb7",
   "address":"ליד עזאזל בדרך לקנטים",
   "phoneNumber":"0566296634",
   "contactPersonName":"כלב בן יפונה",
   "contactPersonPhoneNumber":"0566296634",
   "emailAddress":"hara@gmail.com",
   "relevantTo":"GOLDEN_AGE",
   "websiteUrl":"www.website.com",
   "facebookPageUrl":"www.website.com",
   "instagramPageUrl":"www.website.com",
   "youtubePageUrl":"www.website.com",
   "twitterPageUrl":"www.website.com",
   "linkedInPageUrl":"www.website.com",
   "galleryFileIds":[
      "image1",
      "image2"
   ],
   "openingHours":{
      "sunday":{
         "start":"08:00",
         "end":"16:00"
      },
      "monday":{
         "start":"08:00",
         "end":"16:00"
      },
      "tuesday":{
         "start":"08:00",
         "end":"16:00"
      },
      "wednesday":{
         "start":"08:00",
         "end":"16:00"
      },
      "thursday":{
         "start":"08:00",
         "end":"16:00"
      },
      "friday":{
         "start":"08:00",
         "end":"16:00"
      },
      "saturday":{
         "start":"08:00",
         "end":"16:00"
      }
   },
   "open24Hours":false,
   "openOnWeekend": false,
   "isKosher": false
}

###
# "Create Event"
POST  https://{{hostname}}/events
content-type: {{contentType}}
Authorization: {{authorization}}

{ 
   "name": "test event", 
   "authorityId": "61d2e93c927d2b5be84b2cdb",
   "categoryId":"61e94815f49adf4a20db7ca7",
   "address": "gani tal", 
   "startDate": "12/29/2022", 
   "endDate": "12/30/2022",
   "tags": ["sea"],
   "openHour": "08:30",
   "relevantTo": "INFANCY",
   "price": 20,
   "currency": "ILS", 
   "producerName": "Orel Asper",
   "producerPhone": "05005555",
   "producerEmail": "pro@gmail.com", 
   "reservationCenterPhone": "02551651",
   "reservationCenterEmail": "p@gg.com", 
   "websiteUrl": "www.google.com"
}
###
# "get Event"
GET  https://{{hostname}}/events
content-type: {{contentType}}
Authorization: {{authorization}}

###
# create categhories
POST  https://{{hostname}}/tags
content-type: {{contentType}}
Authorization: {{authorization}}

{
  "title": "אופניים",
  "categoryId": "61e9485bf49adf4a20db7cbf"
}
###
# get categhories
GET https://{{hostname}}/tags
content-type: {{contentType}}
Authorization: {{authorization}}

###
#PointOfIntrest
POST  https://{{hostname}}/pois
content-type: {{contentType}}
Authorization: {{authorization}}

{
      "poiName": "הר חמור",
      "address": "שביל הבונים",
      "addressType":"FREE_TEXT",
      "categoriesIds": ["61e9485bf49adf4a20db7cbf"],
      "relevantTo":"GOLDEN_AGE",
      "isAccessable": false,
      "description": "שביל מצויין להליכות בשמש ללא מים",
      "websiteUrl": "www.google.com",
      "authorityId": "61d2e93c927d2b5be84b2cdb",
      "galleryFileIds": [],
      "activitiesInPlace": "תוכלו להינות מהכלום ושום דבר",
      "exclusiveFor": "אנשים שמשעמם להם",
      "prefferedSeason": "SUMMER", 
      "shady": "FULL",
      "arrivalRecommendations": "4*4",
      "phoneNumber": "0351654665",
      "webpageUrl": "www.google.com",
      "contactEmail": "p@g.com"
}

#  prefferedSeason: ["SUMMER", "WINTER", "FALL", "SPRING"],
# shady: ["FULL", "PARTIAL", "NONE"]
###
#PointOfIntrest
GET  https://{{hostname}}/pois
content-type: {{contentType}}
Authorization: {{authorization}}

#tracks
###
POST  https://{{hostname}}/tracks
content-type: {{contentType}}
Authorization: {{authorization}}

{
   "trackName": "שם",
   "authorityId": "61d2e93c927d2b5be84b2cdb",
   "relevantTo": "GOLDEN_AGE",
   "timeDurationDays": 2,
   "timeDurationHours": 3,
   "timeDuraionMinutes": 4,
   "description": "מסלול מיוחד לכל המשפחה",
   "pois": [],
   "featured": false,
   "galleryFilesIds": []
}

# get tracks
###
GET  https://{{hostname}}/tracks
content-type: {{contentType}}
Authorization: {{authorization}}
###
# Upload file 

GET https://storage.googleapis.com/metro-travel-dev-files/1641214017111_dhl_.png?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=gcs-client-access%40metro-travel-dev.iam.gserviceaccount.com%2F20220103%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20220103T124658Z&X-Goog-Expires=3601&X-Goog-SignedHeaders=host&X-Goog-Signature=046d3959d1fab6c0d0d6ec6934cb14359aadc7a54b2b57ecfc0172908b61974efd510190b49c220d3e9a8075f24f6539905157f492b1d61707d5962de3a7cdccea4f8e405248f178bb3e2d2e0343592de36e94a62854586274dd175f0f86d479b42abc2f73760ff7252ae89d559e0d0538f369e7972056d8a42e8f8689c7018154ef72481579d5f1f36b1131dea3d247eb5eb14b132e33292eb4cac79af2f5222afbcce7d7c3f11c6da0f307844f7114d3579583fb2b20103b76d1a9b0070e68541fb97803062509830f6f426a631092290c4f61f4421be4f93de0f60d1282d34bc4ecf9abccfdf06095349f96eeb12d09534c4493f784e18d5deea3e73f4af4
content-type: {{contentType}}
Authorization: {{authorization}}
